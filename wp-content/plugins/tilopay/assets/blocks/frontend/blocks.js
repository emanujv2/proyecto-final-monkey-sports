(()=>{var e={704:()=>{function e(e){let t=window.location.origin+window.location.pathname;if(window.history.replaceState({},document.title,t),!document.getElementById("tilopay_response_error_div")){var a=`\n  <div class="wc-block-components-notices wc-block-components-notices-tilopay" id="tilopay_response_error_div">\n      <div class="wc-block-store-notice wc-block-components-notice-banner is-error is-dismissible">\n          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" focusable="false">\n              <path d="M12 3.2c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8 0-4.8-4-8.8-8.8-8.8zm0 16c-4 0-7.2-3.3-7.2-7.2C4.8 8 8 4.8 12 4.8s7.2 3.3 7.2 7.2c0 4-3.2 7.2-7.2 7.2zM11 17h2v-6h-2v6zm0-8h2V7h-2v2z"></path>\n          </svg>\n          <div class="wc-block-components-notice-banner__content">\n              <div id="tilopay_response_error">Error: ${e}</div>\n          </div>\n          <button type="button" class="components-button wc-block-components-button wp-element-button wc-block-components-notice-banner__dismiss contained has-text has-icon" onClick="closeTilopayErrorMessage(this)">\n              <svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" focusable="false">\n                  <path d="M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"></path>\n              </svg>\n              <span class="wc-block-components-button__text"></span>\n          </button>\n      </div>\n  </div>\n  `;document.querySelector('div[data-block-name="woocommerce/checkout"]').insertAdjacentHTML("afterbegin",a)}}jQuery(document).ready((function(t){let a=new URLSearchParams(window.location.search),n=a.get("returnData"),o=a.get("description"),l=a.get("message_error");if(o?e(o):l&&e(l),"tilopay"==n){var r=window.location.origin+window.location.pathname;history.replaceState(null,null,r),function(){if(!document.getElementById("tilopay-m1")){var e=document.createElement("div");e.id="tilopay-m1",e.className="tilopay-modal-container active";var t=document.createElement("div");t.className="tilopay-overlay",t.setAttribute("data-modal","close");var a=document.createElement("div");a.id="spinner_Tilopay",a.className="spinner_Tilopay",e.appendChild(t),e.appendChild(a),document.body.appendChild(e),".spinner_Tilopay {     border: 16px solid #f3f3f3;     border-top: 16px solid #ff3644;     border-radius: 50%;     width: 90px;     height: 90px;     animation: spin 2s linear infinite;     position: fixed;     top: 50%;     left: 50%;     transform: translate(-50%, -50%);     z-index: 9999;   }     @keyframes spin {     0% { transform: rotate(0deg); }     100% { transform: rotate(360deg); }   }",(n=document.createElement("style")).type="text/css",n.appendChild(document.createTextNode(".spinner_Tilopay {     border: 16px solid #f3f3f3;     border-top: 16px solid #ff3644;     border-radius: 50%;     width: 90px;     height: 90px;     animation: spin 2s linear infinite;     position: fixed;     top: 50%;     left: 50%;     transform: translate(-50%, -50%);     z-index: 9999;   }     @keyframes spin {     0% { transform: rotate(0deg); }     100% { transform: rotate(360deg); }   }")),document.head.appendChild(n)}var n}(),setTimeout((()=>{document.querySelector("#radio-control-wc-payment-method-options-tilopay").click(),function(){var e=document.getElementById("spinner_Tilopay");e&&e.parentNode.removeChild(e);let t=document.getElementById("tilopay-m1");t&&t.parentNode.removeChild(t)}()}),1e3)}}))}},t={};function a(n){var o=t[n];if(void 0!==o)return o.exports;var l=t[n]={exports:{}};return e[n](l,l.exports,a),l.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.React;var t=a.n(e);const n=window.wp.i18n,o=window.wc.wcBlocksRegistry,l=window.wp.htmlEntities,r=window.wc.wcSettings;a(704);const i=({initSdkSettings:t,sdkInitResponse:a,selectedPaymentMethod:o,setSelectedPaymentMethod:l,paymentData:r,setPaymentData:i,checkoutData:s,setPaymentError:c,paymentError:p,activeModal:d,setActiveModal:u})=>{const[m,y]=(0,e.useState)([]);(0,e.useEffect)((()=>{const e=a.methods.find((e=>1===e.apple_pay)),t=e?{...e,name:"Apple Pay",id:e.id+"_applepay",type:"applepay"}:null;t&&v(t);const n=t?[...a.methods,t]:a.methods;n.length>0&&(1==n.length&&v(n[0]),y(n))}),[a]);const v=e=>{"sinpemovil"===e.type&&(c(void 0),t.have_order_id&&u(!0));const n=e.id.split(":"),o=n.length>1&&"4"==n[1]?n[2]:"",r=n.length>1&&"18"==n[1];i((t=>({...t,tlpy_payment_method:e.id,pay_sinpemovil_tilopay:"sinpemovil"===e.type&&"PROD"==a.environment&&"4"==n[1],tlpy_sinpemovil_number:o,tpay_env:a.environment,tpay_can_make_payment:"1"!=n[1],tlpy_is_yappy_payment:r}))),l(e)};return(0,e.createElement)(e.Fragment,null,m.length>0?(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{style:1==m.length?{display:"none"}:{display:"block"}},void 0!==o&&"applepay"===o.type&&(0,e.createElement)("input",{type:"hidden",id:"tlpy_apple_pay_cancel",value:""}),(0,e.createElement)("label",{htmlFor:"tlpy_payment_method",id:"methodLabel"},(0,n.__)("Payment methods","tilopay")),(0,e.createElement)("select",{name:"tlpy_payment_method",id:"tlpy_payment_method",className:"select wc-credit-card-form-card-select",onChange:({target:e})=>{const{value:t}=e,a=m.find((e=>e.id===t));v(a)},style:{height:50},value:void 0!==o?o.id:""},(0,e.createElement)("option",{value:"",desabled:"true"},(0,n.__)("Select payment method","tilopay")),m.map(((t,a)=>{let o=!s.have_subscription||"sinpemovil"!==t.type&&"applepay"!==t.type?null:"disabled";return(0,e.createElement)("option",{key:a,value:t.id,disabled:o},t.name," ",!s.have_subscription||"sinpemovil"!==t.type&&"applepay"!==t.type?"":(0,n.__)("Disabled for subscriptions","tilopay"))}))))):0===m.length&&(0,e.createElement)("div",{className:"woocommerce-NoticeGroup woocommerce-NoticeGroup-checkout",id:"tpay-sdk-error-div",style:{opacity:1}},(0,e.createElement)("ul",{className:"woocommerce-error",role:"alert",id:"tpay-sdk-error"},(0,e.createElement)("li",{className:"error-sdk-li"},(0,n.__)("There seems to be an issue with this website's integration with Tilopay, please inform the seller to complete your purchase.","tilopay")))))},s=window.wc.blocksCheckout,c=window.wp.data;var p=function(e,t){var a,n;e=e.toString();for(var o=t.rules,l=t.generateMask(e),r=t.transform,i=e.length,s=l.length,c=0,p="",d=0;d<Math.min(i,s);d++){var u=l.charAt(d),m=e.charAt(c),y=o.get(u);y?(c++,y.test(m)?p+=m:(d--,i--)):(u===m?c++:i++,p+=u)}var v=0;if(r){var _=p;v=(null!==(a=null==(p=r(_))?void 0:p.length)&&void 0!==a?a:0)-(null!==(n=null==_?void 0:_.length)&&void 0!==n?n:0)}return{maskedValue:p,mask:l,transformOffset:v}},d=function(e,t){var a;if(!t)return e;var n=t.rules,o=t.generateMask(e),l=null!==(a=null==o?void 0:o.length)&&void 0!==a?a:0;return e.split("").filter((function(e,t){return t<l&&n.has(o[t])})).join("")};const u={getExpectedCursorPos:function(e){var t,a,n,o,l,r,i,s,c,p,d,u,m,y,v,_,h,f,g,b,k,_x,w,E,x,C,M=e.displayValue,S=e.oldDisplayValue,P=e.valueBeforeMask,T=e.newMask,N=e.oldMask,D=e.cursorPosition,R=e.lastWentBack,V=null!==(t=null==N?void 0:N.generateMask(S))&&void 0!==t?t:"",A=null!==(a=null==T?void 0:T.generateMask(M))&&void 0!==a?a:"",O=V.split("").filter((function(e,t){return(null==S?void 0:S[t])&&(!N||N.rules.has(e))})).length,I=A.split("").filter((function(e,t){return(null==M?void 0:M[t])&&(!T||T.rules.has(e))})).length;if(O===I&&M===S){var F=null!==(n=null==M?void 0:M.length)&&void 0!==n?n:0,B=null!==(o=null==P?void 0:P.length)&&void 0!==o?o:0;if(F>B){for(var z=D+F-B,j=!0,G=!R,L=0;j;){var U=(ie=z+L+(G?-1:0))>=0&&ie<(null!==(l=null==A?void 0:A.length)&&void 0!==l?l:0)?null==A?void 0:A.charAt(ie):void 0;U?(null===(r=null==T?void 0:T.rules)||void 0===r?void 0:r.get(U))?j=!1:L=G?L-1:L+1:j=!1}return{position:Math.max(Math.min(z+L,null!==(i=null==M?void 0:M.length)&&void 0!==i?i:0),0),wentBack:G}}if(F<B){var W={ignored:0,idx:0},Y=(null!==(u=null===(d=null===(p=null==P?void 0:P.substring(0,Math.min(null!==(s=null==P?void 0:P.length)&&void 0!==s?s:0,null!==(c=null==A?void 0:A.length)&&void 0!==c?c:0,D)))||void 0===p?void 0:p.split(""))||void 0===d?void 0:d.reduce((function(e,t){for(var a,n,o=e.ignored,l=e.idx,r=null!==(a=null==A?void 0:A.length)&&void 0!==a?a:0;l<r;){if(l>=D)return e;var i=null==A?void 0:A.charAt(l),s=null===(n=null==T?void 0:T.rules)||void 0===n?void 0:n.get(i);if(s)return s.test(t)?{ignored:o,idx:l+1}:{ignored:o+1,idx:l};if(i===t)return{ignored:o,idx:l+1};l++}return{ignored:o,idx:l+1}}),W))&&void 0!==u?u:W).ignored;return{position:Math.max(Math.min(D-Y,null!==(m=null==M?void 0:M.length)&&void 0!==m?m:0),0),wentBack:R}}return{position:D,wentBack:R}}if(O<=I){for(var $=I-O,q=Math.max(Math.min(D-$,null!==(y=null==S?void 0:S.length)&&void 0!==y?y:0),0),H=null==V?void 0:V.substring(0,Math.max(q,0)).split("").filter((function(e,t){return(null==S?void 0:S[t])&&!!N&&!N.rules.has(e)})).length,K=null==A?void 0:A.substring(0,Math.max(q,0)).split("").filter((function(e,t){return(null==M?void 0:M[t])&&!!T&&!T.rules.has(e)})).length,Z=K-H,J=Math.max((null!==(v=null==P?void 0:P.length)&&void 0!==v?v:0)-(null!==(_=null==M?void 0:M.length)&&void 0!==_?_:0),0),Q=(W={ignored:0,exceeded:0,staticAdded:0,idx:0},null!==(f=null===(h=null==P?void 0:P.split(""))||void 0===h?void 0:h.reduce((function(e,t){for(var a,n,o=e.ignored,l=e.exceeded,r=e.staticAdded,i=e.idx,s=null!==(a=null==A?void 0:A.length)&&void 0!==a?a:0;i<s;){var c,p=null==A?void 0:A.charAt(i),d=null===(n=null==T?void 0:T.rules)||void 0===n?void 0:n.get(p);if(d)return d.test(t)?{ignored:o,exceeded:l,staticAdded:r,idx:i+1}:{ignored:c=i>q+Z-J&&i<D?o+1:o,exceeded:l,staticAdded:!c&&i<D?r-1:r,idx:i};if(p===t)return{ignored:c=i>q+Z-J&&i<D?o+1:o,exceeded:l,staticAdded:r,idx:i+1};i<D&&(r+=1),i++}return{ignored:o,exceeded:l+1,staticAdded:r,idx:i+1}}),W))&&void 0!==f?f:W),X=Q.ignored,ee=void 0===X?0:X,te=Q.exceeded,ae=void 0===te?0:te,ne=Q.staticAdded,oe=void 0===ne?0:ne,le=q,re=Z;le-re-ae<q+$;){var ie;if((ie=le-ae)<0)le++;else{var se=null==A?void 0:A[ie];if(!se)break;(ce=!T||T.rules.has(se))||re++,le++}}return re=Math.max(oe,re,0),{position:Math.min(D+re-ee,null!==(g=null==A?void 0:A.length)&&void 0!==g?g:0),wentBack:R}}L=null!==(w=null===(_x=null===(k=null==P?void 0:P.substring(0,Math.min(D,null!==(b=null==P?void 0:P.length)&&void 0!==b?b:0)))||void 0===k?void 0:k.split(""))||void 0===_x?void 0:_x.reduce((function(e,t,a){var n,o=null==A?void 0:A[a],l=null===(n=null==T?void 0:T.rules)||void 0===n?void 0:n.get(o);return l?l.test(t)?e:e-1:o===t?e:e+1}),0))&&void 0!==w?w:0,W={dynamic:0,idx:0};var ce=(null!==(x=null===(E=null==P?void 0:P.split(""))||void 0===E?void 0:E.reduce((function(e,t){for(var a,n,o=e.dynamic,l=e.idx,r=null!==(a=null==A?void 0:A.length)&&void 0!==a?a:0;l<r;){var i=null==A?void 0:A[l],s=null===(n=null==T?void 0:T.rules)||void 0===n?void 0:n.get(i);if(s)return s.test(t)?{dynamic:o+1,idx:l+1}:e;if(i===t)return{dynamic:o,idx:l+1};l++}return e}),W))&&void 0!==x?x:W).dynamic;return $=Math.max(I-ce,0),{position:z=Math.max(Math.min(D+L+$,null!==(C=null==M?void 0:M.length)&&void 0!==C?C:0),0),wentBack:R}},mask:function(e,t){var a=p(e,t),n=a.maskedValue,o=a.mask,l=a.transformOffset,r=p(null!=n?n:"",t),i=r.maskedValue,s=r.mask;return n!==i?("undefined"!=typeof console&&(null===console||void 0===console||console.error("mask applied to value should not change when applied again","-> before: "+e,"-> after: "+n+" (mask: "+o+")","-> again: "+i+" (mask: "+s+")")),{maskedValue:e,mask:o,transformOffset:0}):{maskedValue:n,mask:o,transformOffset:l}},processValue:function(e,t){return t.keepMask?e:d(e,t)},unmask:d};var m=new Map([["A",/[A-Za-z]/],["9",/\d/],["?",/\w/]]),y=function(e){return{rules:m,generateMask:function(){return e}}},v=u.getExpectedCursorPos,_=u.mask,h=u.processValue,f=function(){return f=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var o in t=arguments[a])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},f.apply(this,arguments)},g=t().forwardRef((function(e,a){var n=e.maskGenerator,o=e.value,l=e.onChange,r=e.keepMask,i=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(a[n[o]]=e[n[o]])}return a}(e,["maskGenerator","value","onChange","keepMask"]),s=function(e){var a=e.maskGenerator,n=e.value,o=e.onChange,l=e.keepMask,r=e.ref,i=t().useCallback((function(e){var t;return null!==(t=null==e?void 0:e.selectionStart)&&void 0!==t?t:0}),[]),s=function(e){var a,n,o=e.maskGenerator,l=e.value,r=e.onChange,i=e.keepMask,s=e.ref,c=e.getCursorPosition,p=e.setCursorPosition,d=(a=t().useRef(null),n=s,t().useEffect((function(){[a,n].forEach((function(e){e&&("function"==typeof e?e(a.current||null):e.current=a.current||null)}))}),[a,n]),a),u=function(e){var a,n=e.outerValue,o=e.maskGenerator,l=e.onChange,r=e.getCursorPosition,i=e.setCursorPosition,s=e.keepMask,c=t().useRef(n),p=t().useRef(n),d=t().useRef(n),u=t().useRef(null!==(a=null==n?void 0:n.length)&&void 0!==a?a:0),m=t().useRef(n),y=t().useRef(!1),f=t().useRef(o),g=t().useRef(o),b=t().useState(n),k=b[0],w=b[1],E=t().useState(k),x=E[0],C=E[1],M=t().useState(x),S=M[0],P=M[1],T=t().useState(),N=T[0],D=T[1],R=t().useState(!1),V=R[0],A=R[1],O=t().useCallback((function(e,t){if(t&&r){if(e&&o){var a=r(),n=a<=(null==e?void 0:e.length)?null==e?void 0:e.substring(a):void 0;if(n){for(var l="",i=0,s=null==(b=o.generateMask(e))?void 0:b.charAt(i);s&&!o.rules.has(s);)l+=s,i++,s=null==b?void 0:b.charAt(i);if(l){for(var p="",d=l;d&&e.startsWith(p)&&!n.startsWith(d);)p+=null==d?void 0:d.charAt(0),d=d.substring(1);d&&e.startsWith(p)&&n.startsWith(d)&&(e=e.substring(0,a)+e.substring(a+d.length))}}}var y=r();u.current=y,m.current=e,A(!0)}if(""===(null!=e?e:"").trim())return C(""),w(""),f.current=void 0,c.current="",{displayValue:""};if(o){var v=_(e,o),g=v.maskedValue,b=v.mask,k=v.transformOffset,E=h(null!=g?g:"",o);if(C(null!=g?g:void 0),w(null!=E?E:void 0),f.current=o,c.current=null!=E?E:void 0,k&&t&&r){var x=(y=r())+k;u.current=x,m.current=e,A(!0)}return{displayValue:g,mask:b}}return C(e),w(e),f.current=void 0,c.current=null!=e?e:void 0,{displayValue:e}}),[o,r]),I=t().useCallback((function(e){var t,a=e.displayValue,n=e.oldDisplayValue,o=e.newMask,l=e.oldMask,s=e.force;if(i&&r){var c=v({displayValue:a,oldDisplayValue:n,valueBeforeMask:null!==(t=m.current)&&void 0!==t?t:"",newMask:o,oldMask:l,cursorPosition:u.current,lastWentBack:y.current}),p=c.position,d=c.wentBack,_=void 0!==d&&d;(s||u.current!==p)&&(u.current=p,i(p)),y.current=_}}),[i,r]);t().useEffect((function(){var e=(null==o?void 0:o.generateMask)&&(null==o?void 0:o.generateMask(null!=k?k:""))||void 0;e===N&&n===c.current||(D(e),c.current=n,e===N&&n===k||O(null!=n?n:""))}),[N,D,o,n,k,O]),t().useEffect((function(){k!==p.current&&(p.current=k,O(null!=k?k:""),!s&&l&&l(null!=k?k:""))}),[k,o,O,s,l]),t().useEffect((function(){if(x!==d.current){var e=O(null!=x?x:"").displayValue;(null!=e?e:"")===(null!=x?x:"")&&(d.current=null!=e?e:void 0,s&&l&&l(null!=e?e:""))}}),[x,O,s,l]),t().useEffect((function(){var e,t=(r?r():u.current)!==u.current;x===d.current&&(S!==d.current||t||V)&&(A(!1),P(d.current),g.current=f.current,I({displayValue:null!==(e=d.current)&&void 0!==e?e:"",oldDisplayValue:null!=S?S:"",newMask:f.current,oldMask:g.current,force:t}))}),[S,x,V,r,I]);var F=t().useMemo((function(){return{displayValue:x,setDisplayValue:function(e){O(e,!0)}}}),[x,O]);return F}({outerValue:l,maskGenerator:o,getCursorPosition:t().useCallback((function(){var e=null==d?void 0:d.current;return c(null!=e?e:void 0)}),[d,c]),setCursorPosition:t().useCallback((function(e){var t=null==d?void 0:d.current;p(e,null!=t?t:void 0)}),[d,p]),onChange:r,keepMask:i});return{displayValue:u.displayValue,setDisplayValue:u.setDisplayValue,ref:d}}({value:n,maskGenerator:a,getCursorPosition:i,setCursorPosition:t().useCallback((function(e,t){t&&(t.selectionStart=e,t.selectionEnd=e)}),[]),onChange:o,keepMask:l,ref:r}),c=s.displayValue,p=s.setDisplayValue,d=s.ref,u=t().useCallback((function(e){var t,a;return p(null!==(a=null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.value)&&void 0!==a?a:"")}),[p]);return{value:c,onChange:u,ref:d}}({maskGenerator:n,value:null!=o?"".concat(o):void 0,onChange:l,keepMask:r,ref:a});return t().createElement("input",f({},i,s))}));const b=({paymentData:t,setPaymentData:a,checkoutData:o,setPaymentError:l,paymentError:r,sdkInitResponse:i})=>{const[p,d]=(0,e.useState)(!1),[u,m]=(0,e.useState)(!1),[v,_]=(0,e.useState)(!1),[h,f]=(0,e.useState)(!1),{setValidationErrors:b,clearValidationError:k}=(0,c.useDispatch)("wc/store/validation"),[w,E]=(0,e.useState)([]),[x,C]=(0,e.useState)("flat_icon_tilopay.png"),[M,S]=(0,e.useState)([]),[P,T]=(0,e.useState)(0===w.length?"":"newCard");(0,e.useEffect)((()=>{i.methods.length>0&&E(i.cards)}),[i]),(0,e.useEffect)((()=>{if(!h&&!0===o.have_subscription&&"newCard"===t.cards&&void 0!==i?.environment&&"PROD"===i?.environment)return l((0,n.__)("For subscriptions you must click on the checkbox save card","tilopay")),S((e=>[...e,"checkbox-control-tpay"])),void f(!0);S((e=>e.filter((e=>"checkbox-control-tpay"!==e)))),l(void 0),l(void 0),a((e=>({...e,tpay_save_card:h?"on":"off"})))}),[k,b,h]),(0,e.useEffect)((()=>{"000"!==t.tlpy_cvv&&""!==t.tlpy_cvv&&(N()?D():a((e=>{var a,n;return{...e,token_hash_card_tilopay:null!==(a=t.tlpy_cc_number)&&void 0!==a?a:"NA",token_hash_code_tilopay:null!==(n=t.tlpy_cvv)&&void 0!==n?n:"NA"}})))}),[t.tlpy_cc_number,t.tlpy_cvv,t.tlpy_cc_expiration_date]);const N=()=>"PROD"===t.tpay_env&&!1===t.pay_sinpemovil_tilopay&&("amex"===t.card_type_tilopay?"newCard"!==t.cards&&""!==t.cards?null!=t.tlpy_cvv&&4===t.tlpy_cvv.length:null!=t.tlpy_cc_number&&t.tlpy_cc_number.length>=16&&null!=t.tlpy_cc_expiration_date&&t.tlpy_cc_expiration_date.length>=4&&null!=t.tlpy_cvv&&4===t.tlpy_cvv.length:"newCard"!==t.cards&&""!==t.cards?null!=t.tlpy_cvv&&3===t.tlpy_cvv.length:null!=t.tlpy_cc_number&&t.tlpy_cc_number.length>=16&&null!=t.tlpy_cc_expiration_date&&t.tlpy_cc_expiration_date.length>=4&&null!=t.tlpy_cvv&&3===t.tlpy_cvv.length),D=async()=>{const{cipherCardNumber:e,cipherCvv:n}=await makeCipherData(t);console.log({cipherCardNumber:e,cipherCvv:n,paymentData:t}),null!==e&&null!==n?a((t=>({...t,token_hash_card_tilopay:e,token_hash_code_tilopay:n}))):null!==n&&void 0===e&&(t.token_hash_code_tilopay=n,a((e=>({...e,token_hash_code_tilopay:n}))))};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"payFormTilopay"},w.length>0&&(0,e.createElement)("div",{className:"form-row form-row-wide",style:{marginTop:"10px"}},(0,e.createElement)("label",{htmlFor:"cards"},(0,n.__)("Saved cards","tilopay")),(0,e.createElement)("select",{name:"cards",id:"cards",className:"select wc-credit-card-form-card-select",onChange:({target:e})=>{const{value:t}=e;let n="";"newCard"===t&&""===t||(t.substring(0,4),n=payform.parseCardType(t),T(t)),a((e=>({...e,cards:t,card_type_tilopay:n,tlpy_cvv:""})))},style:{height:50},value:P},(0,e.createElement)("option",{value:"",desabled:"true"},(0,n.__)("Select card","tilopay")),w.map(((t,a)=>(0,e.createElement)("option",{key:a,value:t.id.split(":")[0]},t.name))),(0,e.createElement)("option",{value:"newCard"},(0,n.__)("Pay with another card","tilopay")))),(0,e.createElement)("div",{className:"form-row form-row-wide"},"newCard"===t.cards&&(0,e.createElement)("div",{className:"wc-block-components-text-input wc-block-components-address-form__tlpy_cc_number "+(p?"is-active":"")},(0,e.createElement)(g,{maskGenerator:y("9999 9999 9999 9999"),type:"tel",id:"tlpy_cc_number",name:"tlpy_cc_number",inputMode:"numeric",autoComplete:"off",autoCorrect:"no",autoCapitalize:"no",spellCheck:"no",value:t.tlpy_cc_number,onChange:e=>{d(""!==e);let t=payform.parseCardType(e);switch(a((a=>({...a,tlpy_cc_number:e,card_type_tilopay:t}))),t){case"visa":C("visa.svg");break;case"mastercard":C("mastercard.svg");break;case"amex":C("american_express.svg");break;default:C("flat_icon_tilopay.png")}},style:{backgroundImage:"url("+o.tpayPluginUrl+"assets/images/"+x+")",backgroundRepeat:"no-repeat",backgroundPosition:"right 0.6180469716em center",backgroundSize:"31px 20px"}}),(0,e.createElement)("label",{htmlFor:"tlpy_cc_number"},(0,n.__)("Card number","tilopay"))),(0,e.createElement)("div",{className:"'wc-block-components-address-form__expiration-cvv'",style:{display:"flex"}},"newCard"===t.cards&&(0,e.createElement)("div",{className:`wc-block-components-text-input wc-block-components-address-form__tlpy_cc_expiration_date ${u?"is-active":""} ${M.includes("tlpy_cc_expiration_date")?"has-error":""}`,style:{flex:1,marginRight:"10px"}},(0,e.createElement)(g,{maskGenerator:y("99 / 99"),type:"tel",id:"tlpy_cc_expiration_date",name:"tlpy_cc_expiration_date",inputMode:"numeric",autoComplete:"off",autoCorrect:"no",autoCapitalize:"no",spellCheck:"no",value:t.tlpy_cc_expiration_date,onChange:e=>{m(""!==e),a((t=>({...t,tlpy_cc_expiration_date:e})))},onBlur:()=>{const e=t.tlpy_cc_expiration_date,a=e.substring(0,2),o=e.substring(2);if(e.length>2){const e=new Date,t=e.getFullYear(),r=e.getMonth()+1,i=t%100;let s=!isNaN(a)&&a>=1&&a<=12;o<=i&&""!==o&&(s=a>r);const c=!isNaN(o)&&o>=i;s&&c?(S((e=>e.filter((e=>"tlpy_cc_expiration_date"!==e)))),l(void 0)):(l((0,n.__)("Please enter a valid expiration date.","tilopay")),S((e=>[...e,"tlpy_cc_expiration_date"])))}}}),(0,e.createElement)("label",{htmlFor:"tlpy_cc_expiration_date"},(0,n.__)("Expiry date","tilopay"))),(0,e.createElement)("div",{className:`wc-block-components-text-input wc-block-components-address-form__tlpy_cvv ${v?"is-active":""} ${M.includes("tlpy_cvv")?"has-error":""}`,style:{flex:1}},(0,e.createElement)(g,{maskGenerator:y("9999"),id:"tlpy_cvv",name:"tlpy_cvv",type:"tel",autoComplete:"off",autoCorrect:"no",autoCapitalize:"no",spellCheck:"no",maxLength:"amex"===t.card_type_tilopay?4:3,value:t.tlpy_cvv,onChange:e=>{_(""!==e),a((t=>({...t,tlpy_cvv:e})))},onBlur:()=>{"amex"===t.card_type_tilopay&&4!==t.tlpy_cvv.length?(l((0,n.__)("Please enter a CVV valid for AMEX cards.","tilopay")),S((e=>[...e,"tlpy_cvv"]))):"amex"!==t.card_type_tilopay&&3!==t.tlpy_cvv.length?(l((0,n.__)("Please enter a valid CVV for","tilopay")+" "+t.card_type_tilopay),S((e=>[...e,"tlpy_cvv"]))):(S((e=>e.filter((e=>"tlpy_cvv"!==e)))),l(void 0))}}),(0,e.createElement)("label",{htmlFor:"tlpy_cvv"},"CVV"))),"newCard"===t.cards&&"PROD"===t.tpay_env&&(0,e.createElement)(s.CheckboxControl,{id:"checkbox-control-tpay",className:M.includes("checkbox-control-tpay")?"has-error":"",checked:h,onChange:f,desabled:o.have_subscription&&h?"disabled":null},(0,n.__)("Save card","tilopay")))))},k=({selectedPaymentMethod:t,setSelectedPaymentMethod:a,initSdkSettings:o,checkoutData:l,paymentData:r,sdkInitResponse:i,activeModal:s,setActiveModal:c})=>{const{sinpemovil:p}=i;return(0,e.useEffect)((()=>{s&&setTimeout((async()=>{await sinpeMovilEventTrigger()}),1e3)}),[s]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{id:"tilopay-m1",className:"tilopay-modal-container "+(s?"active":"")},(0,e.createElement)("div",{className:"tilopay-overlay","data-modal":"close"}),(0,e.createElement)("div",{className:"tilopay-modal"},(0,e.createElement)("h3",null,(0,n.__)("Pay with SINPE Móvil","tilopay")),(0,e.createElement)("p",null,(0,n.__)("To make the payment with SINPE Móvil, you must make sure to make the payment in the following way:","tilopay")," ",(0,e.createElement)("br",null),(0,n.__)("Telephone:","tilopay")," ",(0,e.createElement)("strong",{id:"tilopay-sinpemovil-number"},r.tlpy_sinpemovil_number),(0,e.createElement)("br",null),(0,n.__)("Exact amount:","tilopay")," ",(0,e.createElement)("strong",null," ",l.currency," ")," ",(0,e.createElement)("strong",{id:"tilopay-sinpemovil-amount"},p.amount),(0,e.createElement)("br",null),(0,n.__)("Specify in the description:","tilopay")," ",(0,e.createElement)("strong",{id:"tilopay-sinpemovil-code"},p.code),(0,e.createElement)("br",null)),(0,e.createElement)("div",{className:"tilopay-btn-group"},(0,e.createElement)("button",{type:"button",className:"button btn-tilopay-close-modal",onClick:()=>{c(!1),a(void 0)},style:{marginRight:"10px"}},(0,n.__)("Cancel","tilopay")),(0,e.createElement)("button",{type:"button",id:"process-tilopay",className:"button alt process-sinpemovil-tilopay loading",desabled:"true"},(0,n.__)("Waiting payment","tilopay"))))))},w=({type:t,message:a,link:n})=>(0,e.createElement)("div",{className:"wc-block-components-notices"},(0,e.createElement)("div",{className:`wc-block-store-notice wc-block-components-notice-banner ${t}`},(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false"},(0,e.createElement)("path",{d:"M12 3.2c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8 0-4.8-4-8.8-8.8-8.8zm0 16c-4 0-7.2-3.3-7.2-7.2C4.8 8 8 4.8 12 4.8s7.2 3.3 7.2 7.2c0 4-3.2 7.2-7.2 7.2zM11 17h2v-6h-2v6zm0-8h2V7h-2v2z"})),(0,e.createElement)("div",{className:"wc-block-components-notice-banner__content"},(0,e.createElement)("div",null,null!=a?a:"Oops! Something went wrong"," ",n&&(0,e.createElement)("a",{href:n.url,target:"_blank",rel:"noopener noreferrer"},n.text))))),E=()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{id:"responseTilopay"}),(0,e.createElement)("div",{className:"payFormTilopay",style:{display:"none"}},(0,e.createElement)("div",{className:"form-row form-row-wide",id:"selectCard",style:{display:"none"}},(0,e.createElement)("label",null,"Tarjetas guardadas"),(0,e.createElement)("select",{name:"cards",id:"cards"},(0,e.createElement)("option",{value:"",desabled:"true"},"Seleccionar tarjeta"))),(0,e.createElement)("div",{className:"form-row form-row-wide",id:"selectMethods",style:{display:"none"}},(0,e.createElement)("label",null,"Methdos"),(0,e.createElement)("select",{name:"tlpy_payment_method",id:"tlpy_payment_method"},(0,e.createElement)("option",{value:"",desabled:"true"},"Seleccionar método"))),(0,e.createElement)("input",{type:"hidden",id:"tlpy_cc_number",name:"tlpy_cc_number",inputMode:"numeric",autoComplete:"off",autoCorrect:"no",autoCapitalize:"no",spellCheck:"no",value:""}),(0,e.createElement)("input",{type:"hidden",id:"tlpy_cc_expiration_date",name:"tlpy_cc_expiration_date",inputMode:"numeric",autoComplete:"off",autoCorrect:"no",autoCapitalize:"no",spellCheck:"no",value:""}),(0,e.createElement)("input",{id:"tlpy_cvv",name:"tlpy_cvv",inputMode:"numeric",autoComplete:"off",autoCorrect:"no",autoCapitalize:"no",spellCheck:"no",type:"hidden",maxLength:"4",value:""}))),x=({paymentData:t,setPaymentData:a,checkoutData:o,setPaymentError:l,paymentError:r,sdkInitResponse:i})=>{const[s,p]=(0,e.useState)(!1),{setValidationErrors:d,clearValidationError:u}=(0,c.useDispatch)("wc/store/validation");return(0,e.useEffect)((()=>{!0!==o.have_subscription||void 0===i?.environment||"PROD"!==i?.environment||l((0,n.__)("You cannot pay subscriptions with YAPPY, please pay with a credit or debit card","tilopay"))}),[u,d]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"payFormTilopay"},(0,e.createElement)("div",{className:"form-row form-row-wide"},(0,e.createElement)("div",{className:"wc-block-components-text-input wc-block-components-address-form__tlpy_yappy_phone "+(s?"is-active":"")},(0,e.createElement)(g,{maskGenerator:y("9999 9999"),type:"tel",id:"tlpy_yappy_phone",name:"tlpy_yappy_phone",inputMode:"numeric",autoComplete:"off",autoCorrect:"no",autoCapitalize:"no",spellCheck:"no",value:t.tlpy_yappy_phone,onChange:e=>{p(""!==e),a((t=>({...t,tlpy_yappy_phone:e})))}}),(0,e.createElement)("label",{htmlFor:"tlpy_yappy_phone"},(0,n.__)("Yappy phone number","tilopay"))))))},C=(0,r.getSetting)("tilopay_data",{}),{sdk_init_payload:M,tpay_key:S}=C,P=(0,n.__)("Tilopay","tilopay"),T=(0,l.decodeEntities)(C.title)||P,N=t=>{if("yes"!==C.tpay_redirect){var a,o,l;const[r,s]=(0,e.useState)(void 0),p=((0,c.select)("wc/store/payment").getActivePaymentMethod(),(0,c.select)("wc/store/payment").getPaymentResult()),d=M.wooSessionTpay,u=((0,c.select)("wc/store/checkout").getRedirectUrl(),(0,c.select)("wc/store/checkout").getCheckoutStatus()),[m,y]=(0,e.useState)(void 0),[v,_]=(0,e.useState)("otra"),[h,f]=(0,e.useState)("flex"),[g,S]=(0,e.useState)(!1),[P,T]=(0,e.useState)({tlpy_cc_number:"",tlpy_cc_expiration_date:"",tlpy_cvv:"",cards:"newCard",woo_session_tilopay:M.wooSessionTpay,pay_sinpemovil_tilopay:!1,tpay_save_card:"off",tpay_can_make_payment:!0,process_with_apple_pay:0}),[N,D]=(0,e.useState)(void 0),[R,V]=(0,e.useState)(void 0),[A,O]=(0,e.useState)(void 0),[I,F]=(0,e.useState)(!1),[B,z]=(0,e.useState)(!1),{eventRegistration:j,emitResponse:G,billing:L,cartData:U,onSubmit:W,components:Y}=t,{onPaymentSetup:$,onCheckoutFail:q,onCheckoutSuccess:H,onCheckoutValidation:K,onCheckoutValidationBeforeProcessing:Z}=j,{noticeContexts:J,responseTypes:Q}=G,X=L.cartTotal.value/100,ee=L.currency.code,{first_name:te,last_name:ae,company:ne,address_1:oe,address_2:le,city:re,state:ie,postcode:se,country:ce,email:pe,phone:de}=L.billingAddress,ue=void 0!==U.cartItems.find((e=>"subscription"===e.type)),{setValidationErrors:me,clearValidationError:ye}=(0,c.useDispatch)("wc/store/validation");let ve={token:null!==(a=M.token)&&void 0!==a&&a,currency:ee,language:null!==(o=M.language)&&void 0!==o?o:"EN",amount:null!=X?X:0,amount_sinpe:X>0?Math.ceil(X):0,billToFirstName:te,billToLastName:ae,billToAddress:oe,billToAddress2:le,billToCity:re,billToState:ie,billToZipPostCode:se,billToCountry:ce,billToTelephone:de,billToEmail:null!=pe?pe:"",orderNumber:d,capture:"yes"===C.tpay_capture?1:0,redirect:C.tpay_checkout_redirect,subscription:0,platform:"woocommerce",platform_reference:M.platform_reference,userDataIn:null!==(l=M.userDataIn)&&void 0!==l?l:0,urlTilopay:M.urlTilopay,Key:C.tpay_key,tpayPluginUrl:M.tpayPluginUrl,wooSessionTpay:M.wooSessionTpay};const{applePayIntegrationTilopay:_e,placeHolderBtnWooCommerceOverride:he}=((e,t,a,n,o,l)=>({placeHolderBtnWooCommerceOverride:async()=>{var e=document.getElementById("apple_pay_button_style_tpay");e&&e.remove();const t=document.querySelector(".wc-block-components-checkout-place-order-button"),a=document.querySelector(".wc-block-components-button__text");if(1===o.apple_pay&&"applepay"===o.type){var n=document.createElement("style");n.id="apple_pay_button_style_tpay",n.appendChild(document.createTextNode("\n.apple-pay-button {\n    display: inline-block;\n    width: 100%;\n    height: 53px;\n    cursor: pointer;\n    margin-top: 15px;\n    -webkit-appearance: -apple-pay-button;\n    --apple-pay-button-width: 100%;\n    --apple-pay-button-height: 50px;\n    --apple-pay-button-border-radius: 0px;\n    --apple-pay-button-padding: 0px 0px;\n    --apple-pay-button-box-sizing: content-box;\n}\n\n.buttonApplePayProgress {\n    background: #4C5562;\n    border: 1px solid #4C5562;\n    color: #fff;\n    border-radius: 8px;\n    padding: 10px 105px;\n    width: 100%;\n    position: relative;\n    pointer-events: none;\n    display: inline-block;\n    margin-top: 15px;\n    -webkit-appearance: -apple-pay-button;\n    --apple-pay-button-width: 100%;\n    --apple-pay-button-height: 50px;\n    --apple-pay-button-border-radius: 0px;\n    --apple-pay-button-padding: 0px 0px;\n    --apple-pay-button-box-sizing: content-box;\n}\n")),document.head.appendChild(n),t&&(t.classList.add("apple-pay-button"),t.style.height="53px"),a&&(a.style.display="none")}else a&&(a.style.display="block"),t&&a.classList.remove("apple-pay-button")},applePayIntegrationTilopay:async()=>{if(t?.applePaySupported&&1===o.apple_pay&&"applepay"===o.type)try{const e=await processSDKWithApplePay();return e?JSON.stringify(e):e}catch(e){console.error("Error procesando el pago con Apple Pay:",e),n(e),l(!1)}return!1}}))(0,R,0,D,m,z);(0,e.useEffect)((()=>{void 0!==m&&"card"===m?.type&&S(!0),"function"==typeof cleanSinpeMovilInterval?cleanSinpeMovilInterval():console.log("cleanSinpeMovilInterval is undefined.")}),[m]),(0,e.useEffect)((()=>{void 0!==m&&he()}),[m,u]),(0,e.useEffect)((()=>{}),[ye,me,m]),(0,e.useEffect)((()=>{s({order_id:d,first_name:te,last_name:ae,company:ne,address_1:oe,address_2:le,city:re,state:ie,zip_code:se,country:ce,email:pe,phone:de,currency:ee,cart_total:X,have_subscription:ue,checkout_url:C.tpay_checkout_redirect,tpayPluginUrl:M.tpayPluginUrl})}),[]),(0,e.useEffect)((()=>{setTimeout((async()=>{null!==pe&&pe!==M.email&&"sinpemovil"!==P.pay_sinpemovil_tilopay&&await fe()}),100)}),[pe]);const fe=async()=>{if(f("flex"),!1===ve.token)D((0,n.__)("There seems to be an issue with this website's integration with Tilopay, please inform the seller to complete your purchase.","tilopay"));else{const e=await getSdkInit(ve),{sinpemovil:t,environment:a,message:n}=e;"Success"==n?V(e):void 0!==n&&""!==n&&D(n)}f("none")};return(0,e.useEffect)((()=>{const e=$((async()=>{if(closeTilopayErrorMessage(),null!==P&&Object.keys(P).length>0){if(P.tpay_woo_checkout_nonce=C.tpay_nonce,void 0!==m&&"yappy"===m.type){if(""===P.tlpy_yappy_phone)return D((0,n.__)("Please enter a valid phone number","tilopay")),{type:G.responseTypes.ERROR,data:{error:!0,message:(0,n.__)("Please enter a valid phone number","tilopay")}};D(void 0)}if(!B&&void 0!==m&&"applepay"===m.type){const e=await _e();if(!1===e)return await fe(),{type:G.responseTypes.ERROR,message:(0,n.__)("Process payment with Apple Pay failed. Please try again, if the error persists, refresh the page.","tilopay")};P.payload_apple_pay=e,P.process_with_apple_pay=1,z(!0)}if(0===P.process_with_apple_pay){if("PROD"===P.tpay_env&&!0===P.pay_sinpemovil_tilopay&&!0===r.have_subscription?D((0,n.__)("You cannot pay subscriptions with SINPE Movíl, please pay with a credit or debit card","tilopay")):D(void 0),"PROD"==P.tpay_env&&!1===P.pay_sinpemovil_tilopay){P.tlpy_cc_number=P.tlpy_cc_number?"...-"+String(P.tlpy_cc_number.slice(-4)):"";let e=!0;if("newCard"!==P.cards&&""!==P.cards?e=""===P.token_hash_code_tilopay:"newCard"===P.cards&&""!==P.cards&&(e=""===P.token_hash_card_tilopay||""===P.token_hash_code_tilopay),e)return{type:G.responseTypes.ERROR,message:(0,n.__)("Check credit or debit card details","tilopay")}}if("PROD"!==P.tpay_env&&!0===r.have_subscription?D((0,n.__)("Subscriptions payment is not allowed in test environment.","tilopay")):D(void 0),void 0===P.tlpy_payment_method)return{type:G.responseTypes.ERROR,message:"Not payment method selected."}}return{type:G.responseTypes.SUCCESS,meta:{paymentMethodData:P}}}return{type:G.responseTypes.ERROR,message:"There was an error with Tilopay."}}));return()=>{e()}}),[G.responseTypes.ERROR,G.responseTypes.SUCCESS,$,P]),(0,e.useEffect)((()=>{const e=q((async()=>(void 0!==m&&he(),!0===P.pay_sinpemovil_tilopay?{type:G.responseTypes.FAIL,message:"Sinpe movil payment is not supported by Tilopay."}:{type:G.responseTypes.FAIL,message:"There was an error with Tilopay."})));return()=>{e()}}),[G.responseTypes.FAIL,q]),(0,e.useEffect)((()=>{if(p){const{paymentStatus:t,message:a,redirectUrl:n,paymentDetails:o}=p;if(o){var e;const{result:t,messages:a}=o;let n=null!==(e=o?.order_id)&&void 0!==e?e:void 0;null!=n&&null!=n&&(O(n),setTimeout((()=>{F(!0)}),1e3)),"failure"===t&&a&&(D(a),void 0!==m&&he())}}}),[p]),(0,e.useEffect)((()=>{A&&(ve.orderNumber=A,ve.have_order_id=!0,setTimeout((async()=>{await fe()}),100))}),[A]),(0,e.createElement)(e.Fragment,null,N&&(0,e.createElement)(w,{type:"is-error",message:N}),(0,e.createElement)("div",{className:"wc-block-components-radio-control-accordion-content"},(0,e.createElement)("div",{id:"loaderTpay",payformtilopay:"",style:{display:h}},(0,e.createElement)("div",{className:"spinnerTypayInit"})),void 0!==R?.environment&&"PROD"!==R?.environment&&(0,e.createElement)(w,{type:"is-error",message:(0,n.__)("TEST MODE ENABLED. In test mode, you can use the card numbers listed in","tilopay"),link:{text:"Admin Tilopay",url:"http://admin.tilopay.com/"}}),P.tpay_can_make_payment?(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"payFormTilopay"},void 0===R&&"none"==h&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("p",null,(0,n.__)("Oops! Something went wrong.","tilopay")),(0,e.createElement)("button",{type:"button",id:"call-tilopay",className:"button alt process-sinpemovil-tilopay",onClick:fe},(0,n.__)("Try again","tilopay"))),void 0!==R&&(0,e.createElement)("div",{className:"form-row form-row-wide"},(0,e.createElement)(i,{initSdkSettings:ve,sdkInitResponse:R,selectedPaymentMethod:m,setSelectedPaymentMethod:y,paymentData:P,setPaymentData:T,checkoutData:r,setPaymentError:D,paymentError:N,activeModal:I,setActiveModal:F})),"card"===m?.type&&(0,e.createElement)(b,{paymentData:P,setPaymentData:T,checkoutData:r,setPaymentError:D,paymentError:N,sdkInitResponse:R}),"sinpemovil"===m?.type&&(ue?(0,e.createElement)("div",{className:"tpayEnvAlert",style:{marginTop:"15px"}},(0,e.createElement)("span",{id:"environment"},(0,n.__)("You cannot pay subscriptions with SINPE Móvil, please pay with a credit or debit card","tilopay"))):void 0!==A?(0,e.createElement)(k,{selectedPaymentMethod:m,setSelectedPaymentMethod:y,initSdkSettings:ve,checkoutData:r,paymentData:P,sdkInitResponse:R,activeModal:I,setActiveModal:F}):(0,e.createElement)(w,{type:"is-success",message:(0,n.__)("The payment instructions with SINPE Móvil will be shown on the next screen.","tilopay")})),"yappy"===m?.type&&(ue?(0,e.createElement)("div",{className:"tpayEnvAlert",style:{marginTop:"15px"}},(0,e.createElement)("span",{id:"environment"},(0,n.__)("You cannot pay subscriptions with YAPPY, please pay with a credit or debit card","tilopay"))):(0,e.createElement)(x,{paymentData:P,setPaymentData:T,checkoutData:r,setPaymentError:D,paymentError:N,sdkInitResponse:R})))):(0,e.createElement)(w,{type:"is-error",message:(0,n.__)("There seems to be an issue with this website's integration with Tilopay, please inform the seller to complete your purchase.","tilopay")+"processor : 1"})),!1===g&&(0,e.createElement)(E,null))}},D={paymentMethodId:C.id,name:C.id,label:(0,e.createElement)((t=>{const{PaymentMethodLabel:a}=t.components;return(0,e.createElement)(a,{text:T})}),null),content:(0,e.createElement)(N,null),edit:(0,e.createElement)(N,null),canMakePayment:()=>!0,ariaLabel:T,supports:{features:C.supports}};(0,o.registerPaymentMethod)(D)})()})();